\documentclass[12pt]{article}
% \usepackage[T1,T2A]{fontenc} % поддержка кириллицы
% \usepackage[utf8]{inputenc} % кодировка исходного текста
\usepackage[russian,english]{babel}
\babelfont{rm}{FreeSerif}
\babelfont{sf}{FreeSans}
\babelfont{tt}[Scale=0.9]{FreeMono}

% шрифт
\usepackage{fontspec}
% \usepackage[default]{droidsans}
\defaultfontfeatures{Ligatures={TeX},Renderer=Basic}
% \setmainfont[BoldFont          = *-Bold ,
%              ItalicFont        = *-Italic ,
%              Ligatures={TeX,Historic},
%              SizeFeatures={Size=12}]{Times New Roman Cyr}

% изображения
\usepackage[dvips,xetex]{graphicx}
% \usepackage{ifpdf,mla}% <-- mla.sty requires ifpdf.sty, but (perversely) doesn't load it

% фонетические символы
\usepackage{expex}
\lingset{belowglpreambleskip=0ex, aboveglftskip=0ex, everygla={\upshape}}

\usepackage[left=2.5cm, right=2.5cm, top=1.5cm, bottom=2cm]{geometry} % поля страницы

\usepackage{fancyhdr} % установка колонтитулов
\usepackage{listings} % поддержка вставки исходного кода
\renewcommand{\lstlistingname}{Code block}% Listing -> Algorithm
\usepackage[edges]{forest} % trees
% \usepackage{textcomp} % unicode?
% \usepackage{tipa} % phonetic letters
% \usepackage{upgreek} % non italic greek
\usepackage{setspace} % для отступов
\usepackage[section]{placeins} % чтоб картинки из секций не улетали
\usepackage{indentfirst}
\usepackage{hyperref} % clickable table of contents

% Библиограифя
\usepackage{csquotes}
\usepackage[backend=biber, style=apa]{biblatex}
\addbibresource{\rootdir/ref.bib}

% Настройка стиля страницы
\pagestyle{fancy}      % Использование стиля "fancy" для оформления страниц
\fancyhf{}              % Очистка текущих значений колонтитулов
\fancyfoot[C]{\thepage} % Установка номера страницы в нижнем колонтитуле по центру

% Для оформления временных сносок
\usepackage{xcolor}    % для работы с цветами
\newcommand{\todo}[1]{\textbf{\textcolor{red}{TODO: #1}}}

% БЛОКИ КОДА
\usepackage[most]{tcolorbox}
\usepackage{verbatimbox,caption,float,lipsum} % https://tex.stackexchange.com/questions/581714/how-to-use-caption-in-a-verbatim-environment
% Счётик для блоков кода
\newfloat{Code}
\captionsetup{Code}
% Кастомные коробки для блоков кода
\newtcolorbox{code_frame}[1][]{ % https://tex.stackexchange.com/questions/263706/latex-adding-cell-padding-to-a-text-frame
  enhanced,
  arc=3pt,
  outer arc=3pt,
  colback=white,
  boxrule=0.8pt,
  #1
}

